"use strict";(self.webpackChunk_teamhanko_docs=self.webpackChunk_teamhanko_docs||[]).push([[300],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=u(n),m=o,d=p["".concat(s,".").concat(m)]||p[m]||h[m]||r;return n?a.createElement(d,l(l({ref:t},c),{},{components:n})):a.createElement(d,l({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=p;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var u=2;u<r;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(7294),o=n(6010);const r="tabItem_Ymn6";function l(e){let{children:t,hidden:n,className:l}=e;return a.createElement("div",{role:"tabpanel",className:(0,o.Z)(r,l),hidden:n},t)}},4866:(e,t,n)=>{n.d(t,{Z:()=>w});var a=n(7462),o=n(7294),r=n(6010),l=n(2466),i=n(6775),s=n(1980),u=n(7392),c=n(12);function h(e){return function(e){return o.Children.map(e,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:o}}=e;return{value:t,label:n,attributes:a,default:o}}))}function p(e){const{values:t,children:n}=e;return(0,o.useMemo)((()=>{const e=t??h(n);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function d(e){let{queryString:t=!1,groupId:n}=e;const a=(0,i.k6)(),r=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s._X)(r),(0,o.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(a.location.search);t.set(r,e),a.replace({...a.location,search:t.toString()})}),[r,a])]}function k(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,r=p(e),[l,i]=(0,o.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:r}))),[s,u]=d({queryString:n,groupId:a}),[h,k]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,r]=(0,c.Nk)(n);return[a,(0,o.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:a}),g=(()=>{const e=s??h;return m({value:e,tabValues:r})?e:null})();(0,o.useLayoutEffect)((()=>{g&&i(g)}),[g]);return{selectedValue:l,selectValue:(0,o.useCallback)((e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),k(e)}),[u,k,r]),tabValues:r}}var g=n(2389);const f="tabList__CuJ",v="tabItem_LNqP";function b(e){let{className:t,block:n,selectedValue:i,selectValue:s,tabValues:u}=e;const c=[],{blockElementScrollPositionUntilNextRender:h}=(0,l.o5)(),p=e=>{const t=e.currentTarget,n=c.indexOf(t),a=u[n].value;a!==i&&(h(t),s(a))},m=e=>{var t;let n=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;n=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;n=c[t]??c[c.length-1];break}}null==(t=n)||t.focus()};return o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},t)},u.map((e=>{let{value:t,label:n,attributes:l}=e;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:i===t?0:-1,"aria-selected":i===t,key:t,ref:e=>c.push(e),onKeyDown:m,onClick:p},l,{className:(0,r.Z)("tabs__item",v,null==l?void 0:l.className,{"tabs__item--active":i===t})}),n??t)})))}function y(e){let{lazy:t,children:n,selectedValue:a}=e;if(n=Array.isArray(n)?n:[n],t){const e=n.find((e=>e.props.value===a));return e?(0,o.cloneElement)(e,{className:"margin-top--md"}):null}return o.createElement("div",{className:"margin-top--md"},n.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function N(e){const t=k(e);return o.createElement("div",{className:(0,r.Z)("tabs-container",f)},o.createElement(b,(0,a.Z)({},e,t)),o.createElement(y,(0,a.Z)({},e,t)))}function w(e){const t=(0,g.Z)();return o.createElement(N,(0,a.Z)({key:String(t)},e))}},632:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>u,toc:()=>h});var a=n(7462),o=(n(7294),n(3905)),r=n(4866),l=n(5162);const i={title:"Svelte + Hanko",sidebar_label:"Svelte",keywords:["hanko","svelte","integration"],sidebar_custom_props:{docCardIconName:"svelte"}},s="Svelte",u={unversionedId:"guides/svelte",id:"guides/svelte",title:"Svelte + Hanko",description:"In this guide you will learn how to use the",source:"@site/docs/guides/svelte.mdx",sourceDirName:"guides",slug:"/guides/svelte",permalink:"/guides/svelte",draft:!1,tags:[],version:"current",frontMatter:{title:"Svelte + Hanko",sidebar_label:"Svelte",keywords:["hanko","svelte","integration"],sidebar_custom_props:{docCardIconName:"svelte"}},sidebar:"docs",previous:{title:"React",permalink:"/guides/react"},next:{title:"Vue",permalink:"/guides/vue"}},c={},h=[{value:"Install dependencies",id:"install-dependencies",level:2},{value:"Add <code>&lt;hanko-auth&gt;</code> component",id:"add-hanko-auth-component",level:2},{value:"Add <code>&lt;hanko-events&gt;</code> component",id:"add-hanko-events-component",level:2},{value:"Add <code>&lt;hanko-profile&gt;</code> component",id:"hanko-profile",level:2},{value:"Implement logout",id:"implement-logout",level:2},{value:"Customize component styles",id:"customize-component-styles",level:2},{value:"Authenticate backend requests",id:"authenticate-backend-requests",level:2}],p={toc:h};function m(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"svelte"},"Svelte"),(0,o.kt)("p",null,"In this guide you will learn how to use the\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/teamhanko/hanko/blob/main/frontend/elements/README.md"},"hanko-elements")," web components to\nadd authentication and a user profile to your Svelte application."),(0,o.kt)("h2",{id:"install-dependencies"},"Install dependencies"),(0,o.kt)("p",null,"Install the ",(0,o.kt)("inlineCode",{parentName:"p"},"@teamhanko/hanko-elements")," package:"),(0,o.kt)(r.Z,{mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"npm",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"npm install @teamhanko/hanko-elements\n"))),(0,o.kt)(l.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add @teamhanko/hanko-elements\n")))),(0,o.kt)("h2",{id:"add-hanko-auth-component"},"Add ",(0,o.kt)("inlineCode",{parentName:"h2"},"<hanko-auth>")," component"),(0,o.kt)("p",null,"To provide a login interface in your app, use the ",(0,o.kt)("inlineCode",{parentName:"p"},"<hanko-auth>")," web component. To do so, first import the ",(0,o.kt)("inlineCode",{parentName:"p"},"register"),"\nfunction from ",(0,o.kt)("inlineCode",{parentName:"p"},"@teamhanko/hanko-elements")," in your Svelte component. Call it with the URL of the Hanko API as an argument\nto register the ",(0,o.kt)("inlineCode",{parentName:"p"},"<hanko-auth>")," element with\nthe browser's ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/de/docs/Web/API/CustomElementRegistry"},(0,o.kt)("inlineCode",{parentName:"a"},"CustomElementRegistry")),".\nThen use the ",(0,o.kt)("inlineCode",{parentName:"p"},"<hanko-auth>")," element in your component."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"If you are using ",(0,o.kt)("a",{parentName:"p",href:"https://cloud.hanko.io"},"Hanko Cloud"),", you can find the API URL on your project dashboard.\nIf you are self-hosting you need to provide the URL of your running Hanko backend.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="HankoAuth.svelte" showLineNumbers',title:'"HankoAuth.svelte"',showLineNumbers:!0},'<script>\n  import { onMount } from "svelte";\n  import { register } from \'@teamhanko/hanko-elements\';\n\n  const hankoApi = "<YOUR_API_URL>";\n\n  onMount(async () => {\n    // register the component\n    // see: https://github.com/teamhanko/hanko/blob/main/frontend/elements/README.md#script\n    register(hankoApi)\n      .catch((error) => {\n        // handle error\n    });\n  });\n<\/script>\n\n<hanko-auth />\n')),(0,o.kt)("h2",{id:"add-hanko-events-component"},"Add ",(0,o.kt)("inlineCode",{parentName:"h2"},"<hanko-events>")," component"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"<hanko-events>")," component provides a convenient way to subscribe to specific\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/teamhanko/hanko/blob/main/frontend/elements/README.md#events"},"events")," without displaying any UI elements.\nThe other hanko-elements will also dispatch these events."),(0,o.kt)("p",null,"To utilize this functionality in your Svelte application, you can leverage Svelte's event binding mechanism and define\ncallback functions within your component. This allows you to respond to the dispatched events accordingly."),(0,o.kt)("p",null,"Import the ",(0,o.kt)("inlineCode",{parentName:"p"},"register")," function from ",(0,o.kt)("inlineCode",{parentName:"p"},"@teamhanko/hanko-elements")," in your Svelte component. Call it with the URL of the\nHanko API as an argument to register the ",(0,o.kt)("inlineCode",{parentName:"p"},"<hanko-events>")," element with the browser's\n",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/de/docs/Web/API/CustomElementRegistry"},(0,o.kt)("inlineCode",{parentName:"a"},"CustomElementRegistry")),".\nThen use the element in your component template."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="HankoAuth.svelte" showLineNumbers',title:'"HankoAuth.svelte"',showLineNumbers:!0},'<script>\n  import { onMount } from "svelte";\n  // highlight-next-line\n  import { useNavigate } from "svelte-navigator";\n  import { register } from \'@teamhanko/hanko-elements\';\n\n  const hankoApi = "<YOUR_API_URL>";\n  // highlight-next-line\n  const navigate = useNavigate();\n\n  // highlight-start\n  const redirectAfterLogin = () => {\n    // successfully logged in, redirect to a page in your application\n    navigate(\'...\');\n  };\n  // highlight-end\n\n  onMount(async () => {\n    // register the component\n    // see: https://github.com/teamhanko/hanko/blob/main/frontend/elements/README.md#script\n    register(hankoApi)\n      .catch((error) => {\n        // handle error\n    });\n  });\n\n<\/script>\n// highlight-next-line\n<hanko-events on:onAuthFlowCompleted={redirectAfterLogin} />\n<hanko-auth />\n')),(0,o.kt)("p",null,"Alternatively, subscribe directly on the ",(0,o.kt)("inlineCode",{parentName:"p"},"<hanko-auth>")," element:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:"showLineNumbers",showLineNumbers:!0},"<hanko-auth on:onAuthFlowCompleted={redirectAfterLogin} />\n")),(0,o.kt)("h2",{id:"hanko-profile"},"Add ",(0,o.kt)("inlineCode",{parentName:"h2"},"<hanko-profile>")," component"),(0,o.kt)("p",null,"To provide a page where users can manage their email addresses, password and passkeys, use the ",(0,o.kt)("inlineCode",{parentName:"p"},"<hanko-profile>")," web\ncomponent. Just as with the ",(0,o.kt)("inlineCode",{parentName:"p"},"<hanko-auth>")," component, import the ",(0,o.kt)("inlineCode",{parentName:"p"},"register")," function from ",(0,o.kt)("inlineCode",{parentName:"p"},"@teamhanko/hanko-elements")," in\nyour Svelte component. Call it with the\nURL of the Hanko API as an argument to register the ",(0,o.kt)("inlineCode",{parentName:"p"},"<hanko-profile>")," element with the browser's\n",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/de/docs/Web/API/CustomElementRegistry"},(0,o.kt)("inlineCode",{parentName:"a"},"CustomElementRegistry")),". Then use\nthe element in your component."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="HankoProfile.svelte" showLineNumbers',title:'"HankoProfile.svelte"',showLineNumbers:!0},'<script>\n  import { register } from "@teamhanko/hanko-elements";\n\n  const hankoApi = "<YOUR_API_URL>";\n\n  onMount(async () => {\n    // register the component\n    // see: https://github.com/teamhanko/hanko/blob/main/frontend/elements/README.md#script\n    register(hankoApi)\n      .catch((error) => {\n        // handle error\n      });\n  });\n<\/script>\n\n<hanko-profile />\n')),(0,o.kt)("h2",{id:"implement-logout"},"Implement logout"),(0,o.kt)("p",null,"Use the Hanko client provided by ",(0,o.kt)("inlineCode",{parentName:"p"},"@teamhanko/hanko-elements")," to log out users. On logout a custom event is\ndispatched that you can subscribe to:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="HankoProfile.svelte" showLineNumbers',title:'"HankoProfile.svelte"',showLineNumbers:!0},'<script>\n  // highlight-start\n  import { useNavigate } from "svelte-navigator";\n  import { register, Hanko } from "@teamhanko/hanko-elements";\n  // highlight-end\n\n  const hankoApi = "<YOUR_API_URL>";\n  // highlight-start\n  const navigate = useNavigate();\n  const hanko = new Hanko(hankoApi);\n  // highlight-end\n\n  // highlight-start\n  const logout = () => {\n    hanko.user.logout().catch((error) => {\n      // handle error\n    })\n  }\n  // highlight-end\n\n  // highlight-start\n  const redirectAfterLogout = () => {\n    navigate("...");\n  }\n  // highlight-end\n\n  onMount(async () => {\n    // register the component\n    // see: https://github.com/teamhanko/hanko/blob/main/frontend/elements/README.md#script\n    register(hankoApi)\n      .catch((error) => {\n        // handle error\n      });\n  });\n<\/script>\n// highlight-start\n<button on:click={logout}>Logout</button>\n<hanko-profile on:onUserLoggedOut={redirectAfterLogout} />\n// highlight-end\n')),(0,o.kt)("h2",{id:"customize-component-styles"},"Customize component styles"),(0,o.kt)("p",null,"The styles of the ",(0,o.kt)("inlineCode",{parentName:"p"},"hanko-auth")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"hanko-profile")," elements can be customized using CSS variables and parts. See our guide\non customization ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/teamhanko/hanko/tree/main/frontend/elements#ui-customization"},"here"),"."),(0,o.kt)("h2",{id:"authenticate-backend-requests"},"Authenticate backend requests"),(0,o.kt)("p",null,"If you want to authenticate requests in your own backend, please view our ",(0,o.kt)("a",{parentName:"p",href:"/guides/backend"},"backend guide"),"."))}m.isMDXComponent=!0}}]);